<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Trading Bot - Dashboard</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <header>
    <div class="header-content">
      <div class="logo">
        <div class="logo-icon">ğŸ¤–</div>
        <h1>AI Trading Bot</h1>
      </div>
      <div class="status-badge">
        <a href="/orders.html" style="margin-right: 20px; color: white; text-decoration: none; font-weight: 600;">ğŸ“Š
          è®¢å•æŸ¥è¯¢</a>
        <span class="status-indicator" id="statusIndicator"></span>
        <span id="statusText">Initializing...</span>
      </div>
    </div>
  </header>

  <div class="container">
    <!-- Stats Grid -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-label">Total Trades</div>
        <div class="stat-value" id="totalTrades">0</div>
        <div class="stat-change">All time</div>
      </div>

      <div class="stat-card">
        <div class="stat-label">Successful Trades</div>
        <div class="stat-value" id="successfulTrades" style="color: var(--success)">0</div>
        <div class="stat-change">Success rate: <span id="successRate">0%</span></div>
      </div>

      <div class="stat-card">
        <div class="stat-label">Auto Trading</div>
        <div class="stat-value" id="autoTradingStatus">
          <span style="font-size: 1.5rem">âš ï¸</span>
        </div>
        <div class="stat-change" id="autoTradingText">Disabled</div>
      </div>

      <div class="stat-card">
        <div class="stat-label">Wallet Address</div>
        <div class="stat-value" id="walletAddress" style="font-size: 1rem; word-break: break-all;">-</div>
        <div class="stat-change">Connected</div>
      </div>
    </div>

    <!-- Quick Access: Order Query -->
    <div class="card"
      style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; text-align: center; cursor: pointer;"
      onclick="window.location.href='/orders.html'">
      <div style="padding: 30px;">
        <div style="font-size: 48px; margin-bottom: 10px;">ğŸ“Š</div>
        <h2 style="color: white; margin-bottom: 10px;">è®¢å•æŸ¥è¯¢ä¸ç»Ÿè®¡</h2>
        <p style="opacity: 0.9; margin-bottom: 20px;">æŸ¥çœ‹è®¢å•å†å²ã€å¸‚åœºç»“æœå’Œç»Ÿè®¡æ•°æ®</p>
        <div
          style="display: inline-block; background: rgba(255,255,255,0.2); padding: 12px 30px; border-radius: 8px; font-weight: 600;">
          ç‚¹å‡»è¿›å…¥ â†’
        </div>
      </div>
    </div>

    <!-- Configuration -->
    <div class="card">
      <div class="card-header">
        <h2 class="card-title">âš™ï¸ Bot Configuration</h2>
      </div>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
        <div>
          <div class="stat-label">Trade Size</div>
          <div style="font-size: 1.25rem; font-weight: 600;" id="tradeSize">-</div>
        </div>
        <div>
          <div class="stat-label">Probability Threshold</div>
          <div style="font-size: 1.25rem; font-weight: 600;" id="probabilityThreshold">-</div>
        </div>
        <div>
          <div class="stat-label">Polling Interval</div>
          <div style="font-size: 1.25rem; font-weight: 600;" id="pollingInterval">-</div>
        </div>
        <div>
          <div class="stat-label">Chain</div>
          <div style="font-size: 1.25rem; font-weight: 600;" id="chainId">-</div>
        </div>
      </div>
    </div>

    <!-- Pending Orders (Awaiting Confirmation) -->
    <div class="card" id="pendingOrdersCard" style="display: none;">
      <div class="card-header">
        <h2 class="card-title">â³ å¾…ç¡®è®¤è®¢å•</h2>
        <div class="card-action" onclick="refreshPendingOrders()">ğŸ”„ åˆ·æ–°</div>
      </div>
      <div id="pendingOrdersContainer">
        <div class="empty-state">
          <div class="empty-state-icon">âœ…</div>
          <p>æš‚æ— å¾…ç¡®è®¤è®¢å•</p>
        </div>
      </div>
    </div>

    <!-- Active Orders (Tracking) -->
    <div class="card" id="activeOrdersCard" style="display: none;">
      <div class="card-header">
        <h2 class="card-title">ğŸ” æ´»è·ƒè®¢å•è¿½è¸ª</h2>
        <div class="card-action" onclick="refreshActiveOrders()">ğŸ”„ åˆ·æ–°</div>
      </div>
      <div id="activeOrdersContainer">
        <div class="empty-state">
          <div class="empty-state-icon">âœ…</div>
          <p>æš‚æ— æ´»è·ƒè®¢å•</p>
        </div>
      </div>
    </div>

    <!-- Active Markets -->
    <div class="card">
      <div class="card-header">
        <h2 class="card-title">ğŸ“Š Active Markets (High Probability)</h2>
        <div class="card-action" onclick="refreshMarkets()">ğŸ”„ Refresh</div>
      </div>
      <div id="marketsContainer">
        <div class="empty-state">
          <div class="empty-state-icon">ğŸ“ˆ</div>
          <p>Loading markets...</p>
        </div>
      </div>
    </div>

    <!-- Trade Log -->
    <div class="card">
      <div class="card-header">
        <h2 class="card-title">ğŸ“ Trade History</h2>
        <div class="card-action" onclick="refreshTrades()">ğŸ”„ Refresh</div>
      </div>
      <div id="tradeLogContainer" class="trade-log">
        <div class="empty-state">
          <div class="empty-state-icon">ğŸ“‹</div>
          <p>No trades yet</p>
        </div>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>

</html>